<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<meta content="text/css" http-equiv="Content-Style-Type"/>
<meta content="pandoc" name="generator"/>
<title>ofBook - Anthropocene</title>
<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; }
code > span.dt { color: #902000; }
code > span.dv { color: #40a070; }
code > span.bn { color: #40a070; }
code > span.fl { color: #40a070; }
code > span.ch { color: #4070a0; }
code > span.st { color: #4070a0; }
code > span.co { color: #60a0b0; font-style: italic; }
code > span.ot { color: #007020; }
code > span.al { color: #ff0000; font-weight: bold; }
code > span.fu { color: #06287e; }
code > span.er { color: #ff0000; font-weight: bold; }
  </style>
<link href="../style/bootstrap.min.css" rel="stylesheet">
<link href="../style/style.css" rel="stylesheet" type="text/css"/>
<link href="http://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic,700italic|Merriweather:400,300,300italic,400italic,700,900,700italic,900italic" rel="stylesheet" type="text/css">
<script src="../javascript/jquery-1.8.3.min.js"></script>
<script src="../javascript/bootstrap.min.js"></script>
<script src="../javascript/navbar.js"></script>
</link></link></head>
<body>
<div class="banner">
<div class="content-wrapper">
<b>Work in progress!</b>
        This is a preliminary version of ofBook, a collaboratively written book about openFrameworks.  Please post any issues, suggestions, comments on our <a href="https://github.com/openframeworks/ofBook/" target="_blank">repo</a>.
    </div>
</div>
<div class="content-wrapper">
<nav role="navigation">
<ul id="nav-parts"><li class="group"><div class="groupTitle">Foreword</div><ul><li class="chapter"><div class="chapterTitle"><a href="foreword.html">foreword</a></div><div class="chapterContents"><ul><li class="section selected"><a href="#책에관하여" target="_top">책에 관하여</a></li><li class="section"><a href="#credits" target="_top">Credits</a></li></ul></div></li></ul></li><li class="group"><div class="groupTitle">Basics</div><ul><li class="chapter"><div class="chapterTitle"><a href="of_philosophy.html">Philosophy</a></div></li></ul><ul><li class="chapter"><div class="chapterTitle"><a href="cplusplus_basics.html">C++ Language Basics</a></div><div class="chapterContents"><ul><li class="section selected"><a href="#lookalive" target="_top">Look Alive!</a></li><li class="section"><a href="#iteration" target="_top">Iteration</a></li><li class="section"><a href="#compilingmyfirstapp" target="_top">Compiling My First App</a></li><li class="section"><a href="#beyondhelloworld" target="_top">Beyond Hello World</a></li><li class="section"><a href="#functions" target="_top">Functions</a></li><li class="section"><a href="#customfunctions" target="_top">Custom Functions</a></li><li class="section"><a href="#encapsulationofcomplexity" target="_top">Encapsulation of Complexity</a></li><li class="section"><a href="#variablespart1" target="_top">Variables (part 1)</a></li><li class="section"><a href="#conclusion" target="_top">Conclusion</a></li><li class="section"><a href="#ps" target="_top">PS.</a></li></ul></div></li></ul><ul><li class="chapter"><div class="chapterTitle"><a href="setup_and_project_structure.html">oF structure</a></div><div class="chapterContents"><ul><li class="section selected"><a href="#firstthingsfirst" target="_top">First things first</a></li><li class="section"><a href="#welcometoyournewkitchen" target="_top">Welcome to your new kitchen</a></li><li class="section"><a href="#runningexamples" target="_top">Running examples</a></li><li class="section"><a href="#offolderstructure" target="_top">oF folder structure</a></li><li class="section"><a href="#theofpantry" target="_top">The oF Pantry</a></li></ul></div></li></ul><ul><li class="chapter"><div class="chapterTitle"><a href="intro_to_graphics.html">Graphics</a></div><div class="chapterContents"><ul><li class="section selected"><a href="#brusheswithbasicshapes" target="_top">Brushes with Basic Shapes</a></li><li class="section"><a href="#brushesfromfreeformshapes" target="_top">Brushes from Freeform Shapes</a></li><li class="section"><a href="#movingtheworld" target="_top">Moving The World</a></li><li class="section"><a href="#nextsteps" target="_top">Next Steps</a></li></ul></div></li></ul><ul><li class="chapter"><div class="chapterTitle"><a href="OOPs!.html">Ooops! = Object Oriented Programming + Classes</a></div><div class="chapterContents"><ul><li class="section selected"><a href="#overview" target="_top">Overview</a></li><li class="section"><a href="#whatisobjectorientedprogramming" target="_top">What is Object Oriented Programming</a></li><li class="section"><a href="#howtobuildyourownclassessimpleclass" target="_top">How to build your own Classes (simple Class)</a></li><li class="section"><a href="#makeanobjectfromyourclass" target="_top">Make an Object from your Class</a></li><li class="section"><a href="#makeobjectsfromyourclass" target="_top">Make objects from your Class</a></li><li class="section"><a href="#makemoreobjectsfromyourclass" target="_top">Make more Objects from your Class</a></li><li class="section"><a href="#makeevenmoreobjectsfromyourclasspropertiesandconstructors" target="_top">Make even more Objects from your Class: properties and constructors</a></li><li class="section"><a href="#makeobjectsonthefly" target="_top">Make Objects on the fly</a></li><li class="section"><a href="#makinganddeleteasyouwishusingvectors" target="_top">Making and delete as you wish - using vectors</a></li><li class="section"><a href="#quickintrotopolymorphisminheritance" target="_top">Quick intro to polymorphism (inheritance)</a></li></ul></div></li></ul><ul><li class="chapter"><div class="chapterTitle"><a href="how_of_works.html">how OF works</a></div><div class="chapterContents"><ul><li class="section selected"><a href="#오픈프레임웍스코드의일반적인패턴설명" target="_top">오픈프레임웍스 코드의 일반적인 패턴 설명</a></li><li class="section"><a href="#setupupdatedraw" target="_top">setup, update, draw</a></li><li class="section"><a href="#클래스" target="_top">클래스</a></li><li class="section"><a href="#함수" target="_top">함수</a></li></ul></div></li></ul></li><li class="group"><div class="groupTitle">Approaches</div><ul><li class="chapter"><div class="chapterTitle"><a href="animation.html">Animation</a></div><div class="chapterContents"><ul><li class="section selected"><a href="#background" target="_top">Background</a></li><li class="section"><a href="#animationinofusefulconcepts" target="_top">Animation in oF / useful concepts:</a></li><li class="section"><a href="#linearmovement" target="_top">Linear movement</a></li><li class="section"><a href="#functionbasedmovement" target="_top">Function based movement</a></li><li class="section"><a href="#simulation" target="_top">Simulation</a></li><li class="section"><a href="#wheretogofurther" target="_top">Where to go further</a></li></ul></div></li></ul><ul><li class="chapter"><div class="chapterTitle"><a href="game_design.html">Experimental Game Development</a></div><div class="chapterContents"><ul><li class="section selected"><a href="#howdogamedevelopersactuallymakegames" target="_top">How do game developers actually make games?</a></li><li class="section"><a href="#sowhatisoscanyway" target="_top">So what is OSC, anyway?</a></li><li class="section"><a href="#ourbasicgameandmakingitnotsobasic" target="_top">Our basic game–and making it not so basic</a></li></ul></div></li></ul><ul><li class="chapter"><div class="chapterTitle"><a href="image_processing_computer_vision.html">image processing and computer vision</a></div><div class="chapterContents"><ul><li class="section selected"><a href="#maybethereisamagicbullet" target="_top">Maybe There is a Magic Bullet</a></li><li class="section"><a href="#preliminariestoimageprocessing" target="_top">Preliminaries to Image Processing</a></li><li class="section"><a href="#이미지처리를얘기하기전에알아두어야할것들" target="_top">이미지처리를 얘기하기 전에 알아두어야 할것들</a></li><li class="section"><a href="#pointprocessingoperationsonimages" target="_top">Point Processing Operations on Images</a></li><li class="section"><a href="#acompleteworkflowbackgroundsubtraction" target="_top">A Complete Workflow: Background Subtraction</a></li><li class="section"><a href="#refinements" target="_top">Refinements</a></li><li class="section"><a href="#suggestionsforfurtherexperimentation" target="_top">Suggestions for Further Experimentation</a></li></ul></div></li></ul></li><li class="group"><div class="groupTitle">I/O</div><ul><li class="chapter"><div class="chapterTitle"><a href="hardware.html">Hardware</a></div><div class="chapterContents"><ul><li class="section selected"><a href="#introduction" target="_top">introduction</a></li><li class="section"><a href="#소개" target="_top">소개</a></li><li class="section"><a href="#gettingstartedwithserialcommunication" target="_top">getting started with serial communication</a></li><li class="section"><a href="#시리얼통신시작하기" target="_top">시리얼 통신 시작 하기</a></li><li class="section"><a href="#digitalandanalogcommunication" target="_top">digital and analog communication</a></li><li class="section"><a href="#디지털과아날로그통신" target="_top">디지털과 아날로그 통신</a></li><li class="section"><a href="#usingserialforcommunicationbetweenarduinoandopenframeworks" target="_top">using serial for communication between arduino and openframeworks</a></li><li class="section"><a href="#lightsoncontrollinghardwareviadmx" target="_top">Lights On - controlling hardware via DMX</a></li></ul></div></li></ul><ul><li class="chapter"><div class="chapterTitle"><a href="sound.html">Sound</a></div><div class="chapterContents"><ul><li class="section selected"><a href="#gettingstartedwithsoundfiles" target="_top">Getting Started With Sound Files</a></li><li class="section"><a href="#gettingstartedwiththesoundstream" target="_top">Getting Started With the Sound Stream</a></li><li class="section"><a href="#why1to1" target="_top">Why -1 to 1?</a></li><li class="section"><a href="#timedomainvsfrequencydomain" target="_top">Time Domain vs Frequency Domain</a></li><li class="section"><a href="#reactingtoliveaudio" target="_top">Reacting to Live Audio</a></li><li class="section"><a href="#synthesizingaudio" target="_top">Synthesizing Audio</a></li><li class="section"><a href="#audiogotchas" target="_top">Audio Gotchas</a></li></ul></div></li></ul><ul><li class="chapter"><div class="chapterTitle"><a href="network.html">Network</a></div><div class="chapterContents"><ul><li class="section selected"><a href="#tcpvsudp" target="_top">TCP vs UDP</a></li><li class="section"><a href="#osc" target="_top">OSC</a></li></ul></div></li></ul></li><li class="group"><div class="groupTitle">Graphics</div><ul><li class="chapter"><div class="chapterTitle"><a href="openGL.html">Introducing OpenGL for OF</a></div><div class="chapterContents"><ul><li class="section selected"><a href="#introducing" target="_top">Introducing</a></li><li class="section"><a href="#vertices" target="_top">Vertices</a></li><li class="section"><a href="#meshes" target="_top">Meshes</a></li><li class="section"><a href="#vbos" target="_top">VBOs</a></li><li class="section"><a href="#abasic3dscene" target="_top">A Basic 3D Scene</a></li><li class="section"><a href="#matrices" target="_top">Matrices</a></li><li class="section"><a href="#textures" target="_top">Textures</a></li><li class="section"><a href="#cameras" target="_top">Cameras</a></li></ul></div></li></ul><ul><li class="chapter"><div class="chapterTitle"><a href="lines.html">drawing lines</a></div><div class="chapterContents"><ul><li class="section selected"><a href="#소개" target="_top">소개 ...</a></li><li class="section"><a href="#선그리기" target="_top">선 그리기</a></li><li class="section"><a href="#약간의노이즈abitofnoise" target="_top">약간의 노이즈A bit of noise</a></li><li class="section"><a href="#aweboflines" target="_top">A web of lines</a></li><li class="section"><a href="#makeasmoothlineinmovementina3dspace" target="_top">Make a smooth line in movement in a 3D space</a></li></ul></div></li></ul><ul><li class="chapter"><div class="chapterTitle"><a href="generativemesh.html">Basics of Generating Meshes from an Image</a></div><div class="chapterContents"><ul><li class="section selected"><a href="#basicsofgeneratingmeshesfromanimage1" target="_top">Basics of Generating Meshes from an Image</a></li><li class="section"><a href="#basicsworkingwithofmesh" target="_top">Basics: Working with ofMesh</a></li><li class="section"><a href="#generativemeshusinganimagetodrivethecreationofamesh" target="_top">Generative Mesh: Using an image to drive the creation of a mesh</a></li><li class="section"><a href="#manipulationsaddingeffectsthatmodifythemesh" target="_top">Manipulations: Adding effects that modify the mesh</a></li><li class="section"><a href="#nextsteps" target="_top">Next Steps</a></li></ul></div></li></ul><ul><li class="chapter"><div class="chapterTitle"><a href="advanced_graphics.html">Advanced graphics</a></div><div class="chapterContents"><ul><li class="section selected"><a href="#dimmediatemodevsofpolylineofpath" target="_top">2D, immediate mode vs ofPolyline/ofPath</a></li><li class="section"><a href="#d" target="_top">3D</a></li></ul></div></li></ul><ul><li class="chapter"><div class="chapterTitle"><a href="shaders.html">Introducing Shaders</a></div><div class="chapterContents"><ul><li class="section selected"><a href="#introducing" target="_top">introducing</a></li><li class="section"><a href="#yourfirstshader" target="_top">Your first shader!</a></li><li class="section"><a href="#addinguniforms" target="_top">Adding Uniforms</a></li><li class="section"><a href="#addingsomeinteractivity" target="_top">Adding some interactivity</a></li><li class="section"><a href="#addingtextures" target="_top">Adding Textures</a></li><li class="section"><a href="#alphamasking" target="_top">Alpha Masking</a></li><li class="section"><a href="#multipletextures" target="_top">Multiple Textures</a></li><li class="section"><a href="#offbo" target="_top">ofFbo</a></li><li class="section"><a href="#texturesasdataegdisplacement" target="_top">Textures as Data (e.g. Displacement)</a></li><li class="section"><a href="#theendcongrats" target="_top">The End, Congrats!</a></li></ul></div></li></ul></li><li class="group"><div class="groupTitle">C++</div><ul><li class="chapter"><div class="chapterTitle"><a href="threads.html">threads</a></div><div class="chapterContents"><ul><li class="section selected"><a href="#쓰레드란무엇이고언제사용해야하는가" target="_top">쓰레드란 무엇이고 언제 사용해야 하는가</a></li><li class="section"><a href="#ofthread" target="_top">ofThread</a></li><li class="section"><a href="#스레드와opengl" target="_top">스레드와 openGL</a></li><li class="section"><a href="#ofmutex" target="_top">ofMutex</a></li><li class="section"><a href="#externalthreadsanddoublebuffering" target="_top">External threads and double buffering</a></li><li class="section"><a href="#ofscopedlock" target="_top">ofScopedLock</a></li><li class="section"><a href="#pococondition" target="_top">Poco::Condition</a></li><li class="section"><a href="#conclusion" target="_top">Conclusion</a></li></ul></div></li></ul><ul><li class="chapter"><div class="chapterTitle"><a href="memory.html">memory of C++</a></div><div class="chapterContents"><ul><li class="section selected"><a href="#컴퓨터메모리와변수" target="_top">컴퓨터 메모리와 변수</a></li><li class="section"><a href="#스택변수함수내의변수vs오브젝트내의변수" target="_top">스택 변수, 함수내의 변수 vs 오브젝트내의 변수</a></li><li class="section"><a href="#포인터와레퍼런스" target="_top">포인터와 레퍼런스</a></li><li class="section"><a href="#힙heap영역에서의변수들" target="_top">힙(heap) 영역에서의 변수들</a></li><li class="section"><a href="#메모리구조배열과vector" target="_top">메모리 구조, 배열과 vector</a></li><li class="section"><a href="#다른메모리구조리스트와맵" target="_top">다른 메모리 구조, 리스트와 맵</a></li><li class="section"><a href="#스마트포인터" target="_top">스마트 포인터</a></li></ul></div></li></ul><ul><li class="chapter"><div class="chapterTitle"><a href="stl_vector.html">Introduction to vectors</a></div><div class="chapterContents"><ul><li class="section selected"><a href="#quickreview" target="_top">Quick Review:</a></li><li class="section"><a href="#declaringavector" target="_top">Declaring a vector</a></li><li class="section"><a href="#addingelementstoavector" target="_top">Adding elements to a vector</a></li><li class="section"><a href="#resize" target="_top">resize</a></li><li class="section"><a href="#assign" target="_top">assign</a></li><li class="section"><a href="#accessingelementsofavector" target="_top">Accessing elements of a vector</a></li><li class="section"><a href="#erasingelementsofavector" target="_top">Erasing elements of a vector</a></li><li class="section"><a href="#iterators" target="_top">Iterators</a></li><li class="section"><a href="#sortingandshufflingavector" target="_top">Sorting and shuffling a vector</a></li><li class="section"><a href="#vectorsofobjects" target="_top">Vectors of objects</a></li></ul></div></li></ul><ul><li class="chapter"><div class="chapterTitle"><a href="stl_map.html">let's play with Map, std::map</a></div><div class="chapterContents"><ul><li class="section selected"><a href="#소개map이무엇인가요" target="_top">소개 : map이 무엇인가요?</a></li><li class="section"><a href="#map에값삽입하기" target="_top">map에 값 삽입하기</a></li><li class="section"><a href="#map에서요소삭제하기" target="_top">map에서 요소 삭제하기</a></li><li class="section"><a href="#map을훑기" target="_top">map을 훑기</a></li><li class="section"><a href="#map에서요소찾기" target="_top">map에서 요소 찾기</a></li><li class="section"><a href="#map에오브젝트저장하기" target="_top">map에 오브젝트 저장하기</a></li><li class="section"><a href="#multimap이란무엇인가요" target="_top">multimap이란 무엇인가요?</a></li><li class="section"><a href="#다른유용한메소드들" target="_top">다른 유용한 메소드들</a></li><li class="section"><a href="#추가참고자료역자에의해추가됨" target="_top">추가 참고 자료 (역자에 의해 추가됨)</a></li></ul></div></li></ul><ul><li class="chapter"><div class="chapterTitle"><a href="c++11.html">C++ 11</a></div><div class="chapterContents"><ul><li class="section selected"><a href="#introduction" target="_top">Introduction</a></li><li class="section"><a href="#auto" target="_top">auto</a></li><li class="section"><a href="#forthingthings" target="_top">for (thing : things)</a></li><li class="section"><a href="#override" target="_top">override</a></li><li class="section"><a href="#lambdafunctions" target="_top">Lambda functions</a></li></ul></div></li></ul></li><li class="group"><div class="groupTitle">Advanced topics</div><ul><li class="chapter"><div class="chapterTitle"><a href="math.html">Math: From 1D to 4D</a></div><div class="chapterContents"><ul><li class="section selected"><a href="#onedimensionusingchange" target="_top">One Dimension: Using Change</a></li><li class="section"><a href="#moredimensionssomelinearalgebra" target="_top">More Dimensions: Some Linear Algebra</a></li></ul></div></li></ul></li><li class="group"><div class="groupTitle">Platforms</div><ul><li class="chapter"><div class="chapterTitle"><a href="ios.html">ofxiOS</a></div><div class="chapterContents"><ul><li class="section selected"><a href="#openframeworksoniosdevices" target="_top">OpenFrameworks on iOS devices.</a></li><li class="section"><a href="#intro" target="_top">Intro</a></li><li class="section"><a href="#introtoobjectivec" target="_top">Intro to Objective-C</a></li><li class="section"><a href="#underthehood" target="_top">Under the Hood</a></li><li class="section"><a href="#ofuikit" target="_top">OF &amp; UIKit</a></li><li class="section"><a href="#mediaplaybackandcapture" target="_top">Media Playback and Capture</a></li><li class="section"><a href="#lifehacks" target="_top">Life Hacks</a></li><li class="section"><a href="#appstore" target="_top">App Store</a></li><li class="section"><a href="#casestudies" target="_top">Case Studies</a></li></ul></div></li></ul></li><li class="group"><div class="groupTitle">Tools</div><ul><li class="chapter"><div class="chapterTitle"><a href="version_control_with_git.html">Version control with Git</a></div><div class="chapterContents"><ul><li class="section selected"><a href="#whatisversioncontrolandwhyshouldyouuseit" target="_top">What is version control, and why should you use it?</a></li><li class="section"><a href="#differentversioncontrolsystems" target="_top">Different version control systems</a></li><li class="section"><a href="#introductiontogit" target="_top">Introduction to Git</a></li><li class="section"><a href="#popularguiclients" target="_top">Popular GUI clients</a></li><li class="section"><a href="#conclusion" target="_top">Conclusion</a></li></ul></div></li></ul><ul><li class="chapter"><div class="chapterTitle"><a href="ofSketch.html">ofSketch</a></div><div class="chapterContents"><ul><li class="section selected"><a href="#whatisofsketch" target="_top">What is ofSketch?</a></li><li class="section"><a href="#download" target="_top">Download</a></li><li class="section"><a href="#sketchformat" target="_top">Sketch Format</a></li><li class="section"><a href="#remotecoding" target="_top">Remote Coding</a></li><li class="section"><a href="#future" target="_top">Future</a></li></ul></div></li></ul><ul><li class="chapter"><div class="chapterTitle"><a href="installation_up_4evr_macosx.html">Installation up 4evr</a></div><div class="chapterContents"><ul><li class="section selected"><a href="#step1prepyoursoftwareandthecomputer" target="_top">Step 1: Prep your software and the computer</a></li><li class="section"><a href="#step2bootintoyoursoftware" target="_top">Step 2: Boot into your software</a></li><li class="section"><a href="#step3keepitupchamp" target="_top">Step 3: Keep it up (champ!)</a></li><li class="section"><a href="#step4rebootperiodically" target="_top">Step 4: Reboot periodically</a></li><li class="section"><a href="#step5checkinonitfromafar" target="_top">Step 5: Check in on it from afar.</a></li><li class="section"><a href="#step6testtesttest" target="_top">Step 6: Test, test, test.</a></li><li class="section"><a href="#additionaltipslogging" target="_top">Additional Tips: Logging</a></li><li class="section"><a href="#memoryleakmurderer" target="_top">Memory leak murderer</a></li><li class="section"><a href="#alternateresources" target="_top">Alternate resources:</a></li></ul></div></li></ul><ul><li class="chapter"><div class="chapterTitle"><a href="installation_up_4evr_linux.html">installation up4ever - linux</a></div><div class="chapterContents"><ul><li class="section selected"><a href="#몇가지추가적인팁" target="_top">몇가지 추가적인 팁:</a></li></ul></div></li></ul></li><li class="group selected"><div class="groupTitle">Case studies</div><ul><li class="chapter"><div class="chapterTitle"><a href="project_eva.html">Choreographies for Humans and Stars</a></div><div class="chapterContents"><ul><li class="section selected"><a href="#projectoverview" target="_top">Project Overview</a></li><li class="section"><a href="#ideationandprototyping" target="_top">Ideation and Prototyping</a></li><li class="section"><a href="#findingthetechnicalsolutions" target="_top">Finding the Technical Solutions</a></li><li class="section"><a href="#developingthevisualizationsoftware" target="_top">Developing the Visualization Software</a></li><li class="section"><a href="#failsafesanddirtyfixes" target="_top">Fail-safes and dirty fixes</a></li><li class="section"><a href="#resultsandreception" target="_top">Results and Reception</a></li></ul></div></li></ul><ul><li class="chapter selected"><div class="chapterTitle selected"><a href="project_joel.html">Anthropocene</a></div><div class="chapterContents selected"><ul><li class="section selected"><a href="#theproject" target="_top">The Project</a></li><li class="section"><a href="#development" target="_top">Development</a></li><li class="section"><a href="#showtime" target="_top">Show time</a></li><li class="section"><a href="#postevent" target="_top">Post Event</a></li><li class="section"><a href="#teamandcredits" target="_top">Team and Credits</a></li><li class="section"><a href="#hardwareselection" target="_top">Hardware selection</a></li></ul></div></li></ul></li></ul>
</nav>
<div class="chapter-content">
<h1 id="anthropocene">Anthropocene</h1>
<p><em>by <a href="http://www.hellicarandlewis.com/" target="_blank">Joel Gethin Lewis</a></em></p>
<p>This chapter presents an overview of an Anthropocene, an body reactive interactive video installation for Greenpeace as part of their field at Glastonbury 2013. It's presented here in the form of diary / journal, discussing the work in narrative form from initial emails, concepting and back and forth through to final coded work.</p>
<p>To see the finished project as part of a wider event please see the <a href="http://youtu.be/LwokmKqT0og?t=1m12s" target="_blank">YouTube link</a></p>
<p>Or an <a href="https://vimeo.com/97113402" target="_blank">exceprt from inside the dome</a></p>
<p>All source code can be found <a href="https://github.com/HellicarAndLewis/Anthropocene" target="_blank">here</a></p>
<p><strong>Anthropocene</strong></p>
<p><em>Adjective</em></p>
<p><em>Relating to or denoting the current geological age, viewed as the period during which human activity has been been the dominant influence on climate and the environment.</em></p>
<h2 id="theproject">The Project</h2>
<h3 id="initial-brief-from-client">Initial Brief from Client</h3>
<p>On 9th April 2013 we were approached by Paul Earnshaw of Greenpeace about an installation as part of Greenpeace's Field at Glastonbury 2013, a large music festival in the South West of England. Another interaction design studio had previously been in place to create a five day experience due to go live for the public duration of the festival on the 25th of June, but a scheduling conflict had emerged that had meant that they had to reluctantly withdraw.</p>
<p>Paul already had a budget and a unique space picked out for the installation, a large geodesic dome:</p>
<div class="figure"><div class="inner">
<div style="image"><a href="../images/project_joel/images/2013_04_11_GreenpeaceStructure.jpg" target="_blank"><img alt="External Shell Structure for Installation from Client" src="../images/project_joel/images/2013_04_11_GreenpeaceStructure.jpg" title="External Shell Structure for Installation from Client"/></a></div><div class="caption">External Shell Structure for Installation from Client</div>
</div></div>
<h3 id="our-response">Our response</h3>
<p>We initially sought out a projector hire firm, who responded with a quote and a plan for a projection setup that met our requirements for maximum visual impact on a budget:</p>
<div class="figure"><div class="inner">
<div style="image"><a href="../images/project_joel/images/2013_04_16_DomeWithProjector.jpg" target="_blank"><img alt="Initial Projection Plan from Projector Firm" src="../images/project_joel/images/2013_04_16_DomeWithProjector.jpg" title="Initial Projection Plan from Projector Firm"/></a></div><div class="caption">Initial Projection Plan from Projector Firm</div>
</div></div>
<p>After some studio thinking, by 16th April we responded with the following document:</p>
<div class="figure"><div class="inner">
<div style="image"><a href="../images/project_joel/images/2013_04_16_Greenpeace_HandL_01.jpg" target="_blank"><img alt="First Page of Presentation" src="../images/project_joel/images/2013_04_16_Greenpeace_HandL_01.jpg" title="First Page of Presentation"/></a></div><div class="caption">First Page of Presentation</div>
</div></div>
<blockquote>
<p>We would like this installation to be a relaxing and immersive space. An oasis where the viewer can relax on bean bags looking up at a screen.</p>
<p>We will use a mix of existing Greenpeace footage and a generative sound-scape to build a beautiful abstraction of the Arctic.</p>
<p>We would like to project onto the ceiling of the space, using either a rectangular, square or circular projection surface. We will experiment with different projection &gt;shapes and see what fits best aesthetically as well as meeting the budget.</p>
<p>We would like to explore the following ideas within the imagery, sound and feeling of the space.</p>
<p>1: The space as a timepiece - trying to have a cycle of sunset, night and dawn - each lasting around five minutes and having a single interaction between the floor and &gt;ceiling that is explored graphically and interactively.</p>
<p>2: Kaleidoscopes, shattering or delaying or time stretching footage. Breaking it up into blocks of time. Arranging in grids, or having different delays in different parts. &gt;The possibility of peoples movement being mirrored into the video playback in interesting ways, playing with time.</p>
<p>3: Making an oasis away from the rest of the festival that would last around 15 minutes, but raise some points about how the cycle of seasons of the Arctic are being &gt;affected.</p>
<p>4: Generative audio - a four channel speaker system that adds depth and texture the visuals.</p>
</blockquote>
<div class="figure"><div class="inner">
<div style="image"><a href="../images/project_joel/images/2013_04_16_Greenpeace_HandL_03.jpg" target="_blank"><img alt="Third Page of Presentation, Proposed Diagram" src="../images/project_joel/images/2013_04_16_Greenpeace_HandL_03.jpg" title="Third Page of Presentation, Proposed Diagram"/></a></div><div class="caption">Third Page of Presentation, Proposed Diagram</div>
</div></div>
<div class="figure"><div class="inner">
<div style="image"><a href="../images/project_joel/images/2013_04_16_Greenpeace_HandL_04.jpg" target="_blank"><img alt="Fourth Page of Presentation, Visual Experimentation" src="../images/project_joel/images/2013_04_16_Greenpeace_HandL_04.jpg" title="Fourth Page of Presentation, Visual Experimentation"/></a></div><div class="caption">Fourth Page of Presentation, Visual Experimentation</div>
</div></div>
<div class="figure"><div class="inner">
<div style="image"><a href="../images/project_joel/images/2013_04_16_Greenpeace_HandL_06.jpg" target="_blank"><img alt="Sixth Page of Presentation, Arctic Experiments" src="../images/project_joel/images/2013_04_16_Greenpeace_HandL_06.jpg" title="Sixth Page of Presentation, Arctic Experiments"/></a></div><div class="caption">Sixth Page of Presentation, Arctic Experiments</div>
</div></div>
<div class="figure"><div class="inner">
<div style="image"><a href="../images/project_joel/images/2013_04_16_Greenpeace_HandL_10.jpg" target="_blank"><img alt="Tenth Page of Presentation, Kaleidoscope Imagery from previous installation" src="../images/project_joel/images/2013_04_16_Greenpeace_HandL_10.jpg" title="Tenth Page of Presentation, Kaleidoscope Imagery from previous installation"/></a></div><div class="caption">Tenth Page of Presentation, Kaleidoscope Imagery from previous installation</div>
</div></div>
<p>On April 30th, we received an email from Paul:</p>
<p>"..we would love you to implement your proposal in our main feature of the dome at Glastonbury Festival this year..."</p>
<p>We had the project! Now it was time to get real about the budget, and see if we could get some interesting musical collaborators...</p>
<p>During May, we concentrated on discovering what film footage was available, and finalising the production design and kit list. My business partner Pete Hellicar spent many hours working on the edit of the film, aiming to complete it while other negotiations continued.</p>
<h3 id="audio-negotiations">Audio negotiations</h3>
<p>On May 10th, Pete reached out to our friends at Warp Records to see if any of their artists would be interested in donating their music to the project, and by the nick of project time we had permission from several artists to use their sounds.</p>
<h3 id="supplier-change-final-budget-negotiations-and-interaction-plan">Supplier change, Final Budget Negotiations and Interaction Plan</h3>
<p>By the end of May, we had changed hardware suppliers to ones already working with Greenpeace on their field, and had found replacement kit for our production. After experimenting with a circular projection screen, we'd arrived at a traditional projector set-up within the dome - a large rectangular projection screen about halfway up the dome wall with seating arranged in front of it. We'd also reached a final budget, and I was ready to start coding.</p>
<p>Pete and I had arrived at a final interactive concept after some discussions with Paul, who stated that a "show time" of about 15 minutes was desirable - enough time to get a detailed message across, but not so long as to bore a casual visitor. Pete took his film edit to 15 minutes and had it approved by the Greenpeace team for pacing and content. We decided to use the Microsoft Kinect to allow the openFrameworks application to distort or effect the film footage in real time - based on viewers movements in front of the projection screen. To make the dome a bit more comfortable Paul arranged the donation of several jumbo size bean bags - meaning that visitors could lie comfortably and wave their hands in the air to interact with the film - we angled the Kinect to hopefully pick up unintended user interaction first, surprising users and gently guiding them to stand in front of the bean bags and use their whole bodies to interact. We knew we had to strike a balance between a pre-scripted show and a completely spontaneous one - so we decided on developing several visual looks which could be placed onto a time line for easy repetition, editing and playback. The aim was to get to a system with the reliability of a static linear film and the responsivity of a live "VJ" system - albeit one that used the viewers silhouette rather than pre-rendered matts to affect the edited Greenpeace film.</p>
<p>At the beginning of June 2014 we received the following image from Paul:</p>
<div class="figure"><div class="inner">
<div style="image"><a href="../images/project_joel/images/2013_06_04_SiteFromPaul.jpg" target="_blank"><img alt="Site Visit by Client" src="../images/project_joel/images/2013_06_04_SiteFromPaul.jpg" title="Site Visit by Client"/></a></div><div class="caption">Site Visit by Client</div>
</div></div>
<p>The site awaited us.</p>
<h3 id="interactive-background-to-delay-maps-and-the-possibility-of-generating-a-delay-map-from-the-kinect-depth-image">Interactive Background to Delay Maps, and the possibility of generating a Delay Map from the Kinect Depth Image</h3>
<div class="figure"><div class="inner">
<div style="image"><a href="../images/project_joel/images/FabricaWeAreTheTimeWeAreTheFamous.jpg" target="_blank"><img alt="We are the time. We are the famous. Created at Fabrica." src="../images/project_joel/images/FabricaWeAreTheTimeWeAreTheFamous.jpg" title="We are the time. We are the famous. Created at Fabrica."/></a></div><div class="caption">We are the time. We are the famous. Created at Fabrica.</div>
</div></div>
<p>We are the time. We are the famous. Created at Fabrica.</p>
<div class="figure"><div class="inner">
<div style="image"><a href="../images/project_joel/images/UVAHereafter.jpg" target="_blank"><img alt="Hereafter by United Visual Artists." src="../images/project_joel/images/UVAHereafter.jpg" title="Hereafter by United Visual Artists."/></a></div><div class="caption">Hereafter by United Visual Artists.</div>
</div></div>
<p>Hereafter by United Visual Artists.</p>
<div class="figure"><div class="inner">
<div style="image"><a href="../images/project_joel/images/HellicarAndLewisFeedback.jpg" target="_blank"><img alt="Feedback by Hellicar&amp;Lewis." src="../images/project_joel/images/HellicarAndLewisFeedback.jpg" title="Feedback by Hellicar&amp;Lewis."/></a></div><div class="caption">Feedback by Hellicar&amp;Lewis.</div>
</div></div>
<p>Feedback by Hellicar&amp;Lewis.</p>
<p>Pete started the project by doing some sketches in Photoshop of how two dimensional angular shapes could "shatter" video footage - I realised that we could make similar effects in real time by using a delay map. This brought me back to previous projects around varying video delay across a whole image - starting with <a href="http://www.benettongroup.com/40years-press/fabrica_yeux_ouverts.html" target="_blank">"We are the time. We are the famous"</a> at <a href="http://fabrica.it/" target="_blank">Fabrica</a>, continuing with <a href="http://uva.co.uk/work/hereafter" target="_blank">Hereafter</a> at <a href="http://uva.co.uk/" target="_blank">UnitedVisualArtists</a> and finally <a href="http://www.hellicarandlewis.com/the-roundhouse/" target="_blank">Feedback</a> at <a href="http://hellicarandlewis.com" target="_blank">Hellicar&amp;Lewis</a>. Many people have been interested in this area for some time, <a href="http://www.flong.com/" target="_blank">Golan Levin</a> has compiled a <a href="http://www.flong.com/texts/lists/slit_scan/" target="_blank">list of related works</a>.</p>
<p>A delay map is simply grey-scale image that is used in combination with a digital video file to decide how much the video file should be delayed on a per-pixel basis. In this projects case a white pixel in a certain position in the delay map meant that there would be zero delay on the corresponding pixel of the video file currently being played back. Conversely, a black pixel in the delay map image would mean the maximum frame delay on the corresponding pixel of the video file. I.e. a completely white delay map image would combine with a video file to play back with zero delay, whilst a black image would give a uniform maximum delay - a linear horizontal grey-scale gradient would give a gradated delay from 0 on the white side to maximum on the black side - with all divisions smoothly displayed in between.</p>
<p>Delay maps are a great way of allowing an art director to quickly "paint" several grey-scale images in Photoshop or some similar image editing program and see the effects of that map on any video file - abstracting away the technical details of the underlying video delay code. This approach of using imagery to control underlying code is a particularly effective technique - making new tools for Art Directors to interface with code using visual techniques rather than syntax and text heavy traditional software engineering techniques.</p>
<p>The breakthrough after this initial thinking was to try to think of what other grey-scale maps I had seen - the live depth image of the Kinect! This would allow peoples 3D silhouettes to create per pixel delay maps that would change in real-time as they moved in front of the 3D sensors of the Microsoft device. The addition of James Georges <a href="https://github.com/obviousjim/ofxSlitScan" target="_blank">ofxSlitScan</a> made swapping in and out static grey scale maps very simple, all I had to do was combine the depth map with his existing code on a frame by frame basis.</p>
<h3 id="actual-timeline">Actual Timeline</h3>
<p>Here are the folder names of all the folders in my GreenpeaceArcticGlastonbury2013 folder.</p>
<ul>
<li>2013_04_11_PlansAndContentFromGreenpeace</li>
<li>2013_04_16_ProjectorQuotes</li>
<li>2013_04_30_PeteQuoteAndIdeas</li>
<li>2013_05_08_GlastoOverviewPlan</li>
<li>2013_05_14_PetePlanAndTechList</li>
<li>2013_05_20_GuestList</li>
<li>2013_05_28_CrewDetailsFromPete</li>
<li>2013_05_29_addons</li>
<li>2013_05_29_addonsAfterPragmatism</li>
<li>2013_05_29_ofxGUIFromDevelopGitHubBranch</li>
<li>2013_05_31_AddMaps</li>
<li>2013_06_02_BaficInvoice</li>
<li>2013_06_03_PeteEffectsFromSomantics</li>
<li>2013_06_04_HomeHigherResForPete</li>
<li>2013_06_06_CallToActionScript</li>
<li>2013_06_12_CrewForFieldReadup</li>
<li>2013_06_12_Font</li>
<li>2013_06_12_GreenpeaceLogos</li>
<li>2013_06_12_MoreCrewBriefing</li>
<li>2013_06_13_HuntResult</li>
<li>2013_06_13_MoreDurationBits</li>
<li>2013_06_13_obviousJimAudioReactiveRing</li>
<li>2013_06_16_ofxTimelineVideo</li>
<li>2013_06_19_Singleton</li>
<li>2013_06_19_VoiceOverOutro</li>
<li>2013_06_20_CateringMenu</li>
<li>2013_06_20_NewAddonsToTry</li>
<li>2013_06_24_CodeForArtFromJeffTimesten</li>
<li>2013_06_24_DeadFlock</li>
<li>2013_06_24_newFilmAndAudio</li>
<li>2013_06_24_ofxAddonsOFXContourUtil</li>
<li>2013_07_31_Final50Invoice</li>
<li>2013_08_18_ThankYouFromGreenpeace</li>
</ul>
<h2 id="development">Development</h2>
<h3 id="development-hardware-and-software-setup">Development Hardware and Software setup</h3>
<p>MacBook Pro * 15-inch, Mid 2009 * Processor: 3.06 GHz Intel Core 2 Duo * Memory: 4 GB 1067 MHz DDR3 * Graphics: NVIDIA GeForce 9600M GT 512 MB</p>
<ul>
<li>XCode for Development</li>
<li>Chrome for Web Browsing</li>
<li>Sublime Text for logging</li>
</ul>
<h3 id="explanation-and-discussion-of-development-in-detail">Explanation and Discussion of Development in Detail</h3>
<h4 id="ofxkinect-as-a-possible-input-to-ofxslitscan">ofxKinect, as a possible input to ofxSlitScan</h4>
<p>One of the benefits of using a platform like openFrameworks is that when people do release extras or "addons" they inevitably interface with the core - interesting results can be found by thinking about how addons can interface with each other using the core as a bridge.</p>
<p>In ofxKinect and ofxSlitScan's case, both addons used the same type of data:</p>
<pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="dt">unsigned</span> <span class="dt">char</span>* getDepthPixels();       <span class="co">///&lt; grayscale values //from ofxKinect.h</span></code></pre>
<p>and</p>
<pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="dt">void</span> setDelayMap(<span class="dt">unsigned</span> <span class="dt">char</span>* map, ofImageType type); <span class="co">//from ofxSlitScan.h</span></code></pre>
<p>So connecting them was simple:</p>
<pre class="sourceCode cpp"><code class="sourceCode cpp">slitScan.setDelayMap(depthPixels); <span class="co">//from testApp::update() in testApp.cpp</span></code></pre>
<p>This kind of separation demonstrates encapsulation or the information hiding qualities of software - the utility of not having to know the specifics of the implementation of the functionality described, merely the inputs required and outputs produced.</p>
<p>http://en.wikipedia.org/wiki/Encapsulation_(object-oriented_programming) http://en.wikipedia.org/wiki/Information_hiding</p>
<h4 id="ofxslitscan-using-pngs-and-moving-to-generating-realtime-delay-maps-making-a-aurora">ofxSlitScan, using PNG's and moving to generating realtime delay maps, making a Aurora</h4>
<p>Starting is often the hardest thing to do with programming. To combat this, I try to do the stupidest, most obvious thing first and then build from there. In this project, I started by prototyping various looks using static PNGs - feeding new data into the examples provided with ofxSlitScan. The provided an easy sketching ability - combined with a paint program to quickly produce many input variations.</p>
<p>The next place to experiment was making the input real-time and interactive - using the blobs from a sliced section of the live Kinect depth image from ofxKinect. Drawing these simple blobs as an image allowed them to be inputted into ofxSlitscan on a frame by frame basis - producing a time warping effect over the playback of the film that Pete Hellicar edited for the project. As so often happens, when the input to the interaction becomes real-time it was far more engaging, which is exactly what we wanted users to do - see SLITSCANKINECTDEPTHGREY mode below for more details on the precise implementation, and in the other cases that follow.</p>
<p>What else could be done with the depth information applied to the delay map of the slit scan? Experiments with effecting the blobs outline yielded the SPIKYBLOBSLITSCAN mode. Using the input from the Kinect as an input to a paint simulator was something that I had worked on with Marek Bereza in the Somantics project - it made sense to try it as an input to a slitscan, as can be seen in the PAINT mode. This Paint mode made something that very much resembled the appearance of a human aurora when mixed with the beautiful Borealis footage that Pete Hellicar had sourced with the help of Greenpeace. SPARKLE mode was another example of a successful port from Somantics to Anthropocene.</p>
<p>Another good strategy for finding new interesting things is to feed the output of a system back into its input - this is demonstrated well by the visual feedback effects produced by using video frames as the delay maps back into their own history - implemented in SELFSLITSCAN mode.</p>
<h4 id="ofxbox2d-making-ice-previous-projects-with-todd-vanderlin">ofxBox2d, making ice, previous projects with Todd Vanderlin</h4>
<p>I had previously worked with Todd Vanderlin on the Feedback project, where we had experimented with using Box2D (via Todd's ofxBox2D) as a way of "shattering" live video. Feedback used a screen orientated in portrait mode that encouraged the repeating of familiar existing behaviour - moving the experience from a tech demo to a playful joyous one. Having earlier experimented with ice like static PNG's I knew that using real-time triangles from ofxBox2D would work well - this time I had the advantage via the Kinect of a slice of 3D space as input, something that Todd had to work much harder to simulate using only 2D live camera input in Feedback. This aspect of constantly improving novel hardware inputs means that previous work can often be revisited and explored.</p>
<h4 id="ofxtimeline-understanding-how-cuing-works">ofxTimeline, understanding how cuing works</h4>
<p>To combine the film and the various real-time effects, it was essential to develop a cuing system to allow different effects to combine with different scenes in a reliably repeatable way. I began by experimenting with Duration, but after emailing the author of the addon (see development notes above), it become apparent that ofxTimeline would be a much better fit for the project - a subset of Durations code base.</p>
<p>After dealing with Quicktime performance issues (see below), the main challenge was cuing the effects. The structure of how ofxTimeline passes messages meant that the signal to switch scenes would only be sent when the play-head passed over the cue - clicking to a point after a cue meant that the signal to switch scenes would not be despatched. Deadlines of other functionality meant that this couldn't be fixed in time for show time - meaning that show operators would have to be careful when shuffling playback during the show proper.</p>
<h4 id="ofxgui-running-the-latest-branch-from-github-multiple-input-methods-and-gui-addons">ofxGui, running the Latest branch from Github, multiple input methods and GUI addons</h4>
<p>I knew that I wanted to augment ofxTimelines interface with controls for the setup of the Kinect and other custom requirements for the project. Watching the GitHub development branch revealed the release of an official core GUI addon - something I wanted to experiment with, which meant that I had to switch from an official static release of OF to the live development branch via Github. The project ended up with multiple interfaces - two graphical ones (ofxTimeline and ofxKinect control mainly) and a keyboard based one (consisting mainly of single boolean switches together with playback and editing shortcuts). With further development, a unified GUI would be desirable, but development pressures meant it wasn't a priority.</p>
<h4 id="ofxopticalflowfarneback-making-a-polar-bear">ofxOpticalFlowFarneback, making a polar bear</h4>
<p>During development and testing, I realised a furry look could serve well for making people feel like they were polar bears. I had seen "spikey" outline looks before - all achieved by drawing normals along the circumference of a blob. I'd also experimented with optical flow in previous projects and started thinking about how the two could be combined - I looked for optical flow addons on <a href="http://ofxaddons.com" target="_blank">ofxaddons.com</a> and discovered a flurry of recent activity since I'd last checked. Development tends to flow like this - periods of fallow followed by simultaneous parallel development from several quarters.</p>
<ul>
<li><a href="https://github.com/Flightphase/ofxCvOpticalFlowLK" target="_blank">ofxCvOpticalFlowLK by James George</a></li>
<li><a href="https://github.com/timscaffidi/ofxOpticalFlowFarneback" target="_blank">ofxOpticalFlowFarneback by Tim Scaffidi</a></li>
<li><a href="https://github.com/julapy/ofxOpticalFlowLK" target="_blank">ofxOpticalFlowLK by Lukasz Karluk</a></li>
</ul>
<p>Tim Scaffidi's version immediately stood out to Pete, so I developed two simple colourings for Aurora and Polar Bear modes, merely tweaking Tim's excellent demo code.</p>
<h3 id="xml-issues-around-the-naming-of-scenes">XML Issues around the Naming of Scenes</h3>
<p>Mid development, I found that saving the XML wasn't functioning as expected - it turned out to be the fault of non alpha numeric characters in scene names. I learnt the hard way that it's always good to avoid punctuation and spaces altogether and use <a href="http://en.wikipedia.org/wiki/CamelCase" target="_blank">CamelCase</a>.</p>
<h3 id="video-performance-using-the-highperformanceexample">Video Performance, using the HighPerformanceExample</h3>
<p>Right from the beginning of the project, it was obvious that video decoding would be significant portion of processing time per frame. Others in the openFrameworks community had been investigating performance in recent years, with James George contributing an <a href="https://github.com/openframeworks/openFrameworks/commit/4e02db8d82c520bef6c09d58b37076a84fe37571" target="_blank">OSX only High Performance video example</a>. This used native Quicktime playback features, enabling far higher performance on compatible hardware. While this undoubted enabled the film playback to function smoothly, it did make the code less platform independent - one of the inevitable compromises that happens during development.</p>
<h3 id="counting-the-items-in-an-enum">Counting the items in an Enum</h3>
<p>I knew that I would have to switch between different visual looks as the film was played back by the program. C++ provides the ENUM keyword to allow the coder to define a data set of named elements, but I needed a way to count the number of modes programmatically. <a href="http://stackoverflow.com/questions/2102582/how-can-i-count-the-items-in-an-enum" target="_blank">Stack Overflow</a> provided the solution.</p>
<pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="kw">enum</span> GreenpeaceModes {BLANK, GUI, VIDEO, VIDEOCIRCLES, KINECTPOINTCLOUD, SLITSCANBASIC, SLITSCANKINECTDEPTHGREY, SPARKLE, VERTICALMIRROR, HORIZONTALMIRROR, KALEIDOSCOPE, COLOURFUR, DEPTH, SHATTER, SELFSLITSCAN, SPIKYBLOBSLITSCAN, MIRRORKALEIDOSCOPE, PARTICLES, WHITEFUR, PAINT, GreenpeaceModes_MAX = PAINT}; <span class="co">//best to use ALL CAPS for enumerated types and constants so you can tell them from ClassNames and variableNames. Use camelCase for variableNames - http://en.wikipedia.org/wiki/CamelCase</span>
 
<span class="co">/* http://stackoverflow.com/questions/2102582/how-can-i-count-the-items-in-an-enum</span>
<span class="co"> For C++, there are various type-safe enum techniques available, and some of those (such as the proposed-but-never-submitted Boost.Enum) include support for getting the size of a enum.</span>
<span class="co"> </span>
<span class="co"> The simplest approach, which works in C as well as C++, is to adopt a convention of declaring a ...MAX value for each of your enum types:</span>
<span class="co"> </span>
<span class="co"> enum Folders { FA, FB, FC, Folders_MAX = FC };</span>
<span class="co"> ContainerClass *m_containers[Folders_MAX + 1];</span>
<span class="co"> ....</span>
<span class="co"> m_containers[FA] = ...; // etc.</span>
<span class="co"> Edit: Regarding { FA, FB, FC, Folders_MAX = FC} versus {FA, FB, FC, Folders_MAX]: I prefer setting the ...MAX value to the last legal value of the enum for a few reasons:</span>
<span class="co"> </span>
<span class="co"> The constant's name is technically more accurate (since Folders_MAX gives the maximum possible enum value).</span>
<span class="co"> Personally, I feel like Folders_MAX = FC stands out from other entries out a bit more (making it a bit harder to accidentally add enum values without updating the max value, a problem Martin York referenced).</span>
<span class="co"> GCC includes helpful warnings like "enumeration value not included in switch" for code such as the following. Letting Folders_MAX == FC + 1 breaks those warnings, since you end up with a bunch of ...MAX enumeration values that should never be included in switch.</span>
<span class="co"> switch (folder)</span>
<span class="co"> {</span>
<span class="co"> case FA: ...;</span>
<span class="co"> case FB: ...;</span>
<span class="co"> // Oops, forgot FC!</span>
<span class="co"> }</span>
<span class="co">*/</span></code></pre>
<p>I used the Stack Overflow tip in the <code>void testApp::keyPressed (int key)</code> method.</p>
<pre class="sourceCode cpp"><code class="sourceCode cpp"><span class="kw">case</span> 'a': <span class="co">//used to be key left, but it interferes with ofxtimeline</span>
{
    currentMode = (GreenpeaceModes)((<span class="dt">int</span>)currentMode - <span class="dv">1</span>);
    <span class="kw">if</span>(currentMode &lt; <span class="dv">0</span>){
        currentMode = GreenpeaceModes_MAX;<span class="co">//see .h file for stackoverflow justification</span>
    }
    <span class="kw">break</span>;
}
<span class="kw">case</span> 's': <span class="co">//used to be key right, but it interferes with ofxtimeline</span>
{
    currentMode = (GreenpeaceModes)((<span class="dt">int</span>)currentMode + <span class="dv">1</span>);
    <span class="kw">if</span>(currentMode &gt; GreenpeaceModes_MAX){
        currentMode = (GreenpeaceModes)<span class="dv">0</span>;<span class="co">//see .h file for stackoverflow justification</span>
    }
}</code></pre>
<p>While I could have gone down the <a href="http://en.wikipedia.org/wiki/Polymorphism_(computer_science)" target="_blank">polymorphic</a> custom class route, I felt that the ENUM apporach provided good performance (through compiler optimisation of common C++ coding paradigms), speed of development (lower file overhead) and clarity of code.</p>
<h3 id="sequencing">Sequencing</h3>
<div class="figure"><div class="inner">
<div style="image"><a href="../images/project_joel/images/2013_06_25_KieranProjection.jpg" target="_blank"><img alt="Kieran in front of the projection screen, final sequencing" src="../images/project_joel/images/2013_06_25_KieranProjection.jpg" title="Kieran in front of the projection screen, final sequencing"/></a></div><div class="caption">Kieran in front of the projection screen, final sequencing</div>
</div></div>
<p>Kieran and Pete completed the main sequencing on-site.</p>
<h2 id="showtime">Show time</h2>
<div class="figure"><div class="inner">
<div style="image"><a href="../images/project_joel/images/2013_06_27_HandsInTheAir.jpg" target="_blank"><img alt="The Installation in Action, 27th June 2013" src="../images/project_joel/images/2013_06_27_HandsInTheAir.jpg" title="The Installation in Action, 27th June 2013"/></a></div><div class="caption">The Installation in Action, 27th June 2013</div>
</div></div>
<h2 id="postevent">Post Event</h2>
<p>The biggest PR boost to the project while it was live was a <a href="http://www.glastonburyfestivals.co.uk/news/greenpeace-at-glastonbury-2013" target="_blank">review</a> from Timeout:</p>
<p>"A highlight of the Greenpeace field was undoubtedly the Arctic Dome, voted by Time Out as the second best non-musical thing to do at the Festival and previewed by NME. It offered people the opportunity to disappear through a crack in the ice and take a magical 15-minute trip to the North Pole, where ice towered and the Northern Lights danced."</p>
<h3 id="testimony-from-show-operators">Testimony from Show Operators</h3>
<p>Kieran and Bafic were the people who ran the show for the general public, below is their testimony, with Kieran starting:</p>
<p><em>Did you have a routine before show time?</em></p>
<p>Before the first show of the day we’d double check the connection between the laptop and the Kinect and test with the skeleton tracking that everything was working correctly. Before show time we’d dim the lights, make sure the sound was turned on, switch to the point cloud setting so people could see themselves as they walked in and then we’d turn the beanbags upright so as to ’set the scene’. Then, as people started to walk in we’d raise the lights as though they were walking on stage. And then before we pressed play we’d dim the lights to black.</p>
<p><em>Any problems during shows? Crashes? Funny stories?</em></p>
<p>A couple of times the connection between the Kinect and the laptop failed due to the cable being under tension so we just had to let the show run to the end before we could fix it. The main problem we had was the projector overheating and displaying a lamp warning which involved having to find the technician to sort it. At one point the projector overheated so badly that we had to leave it switched off for 40 minutes before we could run the show again.</p>
<p>Off the top of my head I can’t think of anything I’d like to change about it, the GUI had quite a steep learning curve so it took a while to remember all the keys to press to hide each part of the interface but once we’d mastered that everything was fine. I guess the only thing that would be good but most likely ultimately un-achieveable would be full automation in the sense that the station wouldn’t have to be manned at all times.</p>
<p>Following is Bafic's post show report:</p>
<p><em>Did you have a routine before show time?</em></p>
<p>Before every show we would go through different ways to layout the bean bags. It's started off as just a small idea but as we kept on doing it we noticed that it would affect how people acted with the film. Some were semi circles some were bean bags set up in rows like cinema seats sometimes we pushed all bean bags to the back and told people they had to stand up and use their full body to interact with the film.</p>
<p>When seated in rows people mostly used their arms (a few people were moving the legs in air sitting down) but never was it a full body movement until we moved bean bags to the back . Some excited people would stand up and run to in front of the Kinect and interact with it that way, after they had finished they would sit down and someone else would follow due to the sheer curiosity of seeing what the previous person had done. It was interesting because everyone was so curious as to what would happen. I was sitting their amazed because their were a few loops/back and forths happening.</p>
<ol style="list-style-type: decimal">
<li>You had the back and forth between the one person who would stand up interact with the Kinect and then that would show up on the projection.</li>
<li>They would sit down and the next back and forth would be the next person to stand up start off with maybe replicating the previous persons techniques and movement AND Then coming up with the own ideas and movement.</li>
<li>then their was us who was watching and getting excited and seeing what they were doing and changing effects depending on what the user was doing and what we felt like could be interesting then obviously what we put on screen would effect how the person would dance/move/use their body. The whole thing was like a 3x over Möbius strip of events and occurrences that kept affecting the previous element and also the next element at the same time!</li>
</ol>
<p><em>Any problems during shows? Crashes? Funny stories?</em></p>
<p>I can't think of any crashes or problems that happened. Their was a time when someone came in with a puppet on a long stick and they waved it at the Kinect and that would egg on the rest of the audience because this funny puppet would appear on screen. The whole experience was really amazing and interesting.</p>
<h3 id="open-source-discussions-with-client">Open Source discussions with Client</h3>
<p>Greenpeace were happy for us to Open Source, as we do with all our projects. Greenpeace does not have a GitHub of it's own, but we were able to suggest that that should be part of their future strategy. The problem was the film that formed the backdrop for the interaction - while musicians were happy to license music for a live only experience, getting those rights in perpetuity has been challenging. Negotiations continue.</p>
<h3 id="re-running-remotely-in-australia-and-new-zealand">Re-running remotely in Australia and New Zealand</h3>
<p>The project has been re-exhibited twice in the Southern Hemisphere - in Australia and New Zealand. Getting the code up and running wasn't a problem - but training someone to use the two layers of mouse GUI and on layer of Keyboard GUI was a challenge, especially over a painfully slow Skype connection.</p>
<h3 id="future-development">Future development</h3>
<p>Paul Valery said 'Poems are never finished - just abandoned'. This is sadly true for all artistic endeavours. Below are three areas for future development.</p>
<h4 id="social-interaction">Social interaction</h4>
<p>The <a href="http://www.hellicarandlewis.com/the-hello-wall/" target="_blank">Hello Wall</a> and <a href="http://www.hellicarandlewis.com/tate-modern/" target="_blank">Hello Cube</a> projects showed how making feedback loops between users and installations via social networks is not only fun, but helps spread awareness of the installation beyond the physical bounds of the project. Imagine allowing users to post comments to the projection as it happening via Twitter and receiving bespoke screen grabs showing evidence of their interaction in return - or even choosing which of the interactive effects is active at a certain time. The meta data of these interactions could be used to come up with the most enaging timeline, or to deliver messages to users in the days, weeks and months following the installation - particularly useful for an organisation such as Greenpeace that relies on public support to lobby Governments and Corporations.</p>
<h4 id="broadcast">Broadcast</h4>
<p>Pete and I discussed how we could transform the installation into one that broadcast itself to a wider audience when we were in the planning stage. Unfortunately, securing a reliable Internet connection at the Glastonbury Music festival proved impossible. Post and Previous Hellicar&amp;Lewis projects for <a href="http://www.hellicarandlewis.com/nikefeeltv/" target="_blank">Nike</a> and <a href="http://www.hellicarandlewis.com/coke/" target="_blank">Coca-Cola</a> show how broadcasting an installation with the addition of social network interaction can dramatically increase engagement. We hope to be able to make such a socially activated broadcast interaction with Greenpeace in the near future - imagine several locations around the world witnessing the same film simultaneously with body movement from each location feeding back into the others - live video portals of depth maps crossing continents and time zones to produce a truly global event.</p>
<h4 id="raspberry-pi">Raspberry Pi</h4>
<p>With the advent of a <a href="http://openframeworks.cc/setup/raspberrypi/" target="_blank">Raspberry Pi</a> port of openFrameworks, a port of the project to the platform would allow for the deployment of the project to events that have even smaller budgets than this iteration. This would also entail a port of the Kinect code to 2D computer vision, but I'm confident this would be a spur for other interactions and visual effects.</p>
<h3 id="conclusion">Conclusion</h3>
<p>All in all, for a low budget project, using openFrameworks was the differentiator that enabled me to collaborate with the rest of the team at Hellicar&amp;Lewis to make the installation come to life. The key factors were being able to draw upon so many external addons, previous projects and the community as a whole.</p>
<h2 id="teamandcredits">Team and Credits</h2>
<ul>
<li>Pete Hellicar and Joel Gethin Lewis</li>
<li>Commissioned by Paul Earnshaw of Greenpeace</li>
<li>Produced by Sarah Toplis</li>
<li>Assisted by <a href="http://www.bafic.co.uk/" target="_blank">Bafic</a> and <a href="http://www.kieranstartup.co.uk/" target="_blank">Kieran Startup</a></li>
</ul>
<p>Project uses addons and other code Contributions from:</p>
<ul>
<li><a href="http://www.mazbox.com/" target="_blank">Marek Bereza aka Mazbox</a> as part of Cariad Interactive</li>
<li><a href="https://github.com/ofTheo/ofxKinect" target="_blank">ofxKinect</a> by <a href="http://www.theowatson.com/" target="_blank">Theo Watson</a></li>
<li><a href="https://github.com/obviousjim/ofxSlitScan" target="_blank">ofxSlitScan</a> by <a href="http://jamesgeorge.org/" target="_blank">James George</a></li>
<li><a href="https://github.com/vanderlin/ofxBox2d" target="_blank">ofxBox2d</a> by <a href="http://vanderlin.cc/" target="_blank">Todd Vanderlin</a></li>
<li><a href="https://github.com/YCAMInterlab/ofxTimeline" target="_blank">ofxTimeline</a> by <a href="http://jamesgeorge.org/" target="_blank">James George</a></li>
<li><a href="https://github.com/timscaffidi/ofxOpticalFlowFarneback" target="_blank">ofxOpticalFlowFarneback</a> by <a href="http://timothyscaffidi.com/" target="_blank">Tim Scaffidi</a></li>
</ul>
<p>Thanks to: * All our families and friends. * The Greenpeace Family * Microsoft for being Open * <a href="http://www.theowatson.com/" target="_blank">Theo Watson</a> * The entire openFrameworks community * <a href="http://marshmallowlaserfeast.com/" target="_blank">Marshmallow Laser Feast</a> * <a href="http://timothyscaffidi.com/" target="_blank">Tim Scaffidi</a> * <a href="http://jamesgeorge.org/" target="_blank">James George</a> * <a href="http://interlab.ycam.jp/en" target="_blank">YCAM InterLab</a></p>
<h2 id="hardwareselection">Hardware selection</h2>
<ul>
<li>1 x 3D Camera - Microsoft XBox360 Kinect</li>
<li>1 x Playback and Interaction Computer - MacBook Pro Retina</li>
<li>1 x 10K projector</li>
<li>1 x Projection Screen</li>
<li>Sound - 4 x D&amp;B T-10 Top + Amp 2 x Subs</li>
</ul>
<div class="footer">
<div id="prev_chapter"><a href="project_eva.html">&lt; Choreographies for Humans and Stars</a></div>
<div id="next_chapter"></div>
</div>
<div id="help"><i>please note that this book / chapter is a work in progress.  Feel free to suggest edits / corrections <a href="https://github.com/openframeworks/ofbook" target="_blank">here</a></i></div>
</div>
</div>
</body>
</html>
